<html>

<body>
<canvas id="canvas1" width="400" height="400" style="border:0px solid #000000;">
</canvas>

</body>

<script>
function render() 
{
    var width = 300;
    var height = 300;

    var canvas = document.getElementById("canvas1");
    var context = canvas.getContext("2d");
    context.clearRect(0, 0, canvas.width, canvas.height);
    context.translate(10, 10);

    context.lineWidth = 1;
    var PI = 3.14159;
    //var percent = 25;

    var now = Date.now(); // UTC

    var begin = Date.UTC(2018, 03, 16, 17, 0, 0);
    var end = Date.UTC(2018, 03, 23, 17, 0, 0);

    var total = end - begin;
    var percent = (now - begin) / total * 100;

    var remaining = (end - now) / 1000 / 60 / 60 / 24;
    context.beginPath();
    var arcWidth = 40;
    context.lineWidth = arcWidth;
    context.strokeStyle = "#0000ff";
    var startAngle = -PI / 2;
    var endAngle = -PI/2 + (percent / 100.0) * 2 * PI;

    context.arc(width / 2, height / 2, width / 2 - arcWidth / 2 , startAngle, endAngle, false);
    context.stroke();

    context.beginPath();
    context.strokeStyle = "#ffffcc";
    context.arc(width / 2, height / 2, width / 2 - arcWidth / 2 , startAngle, endAngle, true);
    context.stroke();

    context.strokeStyle = "#000000";
    context.lineWidth = 1;
    context.beginPath();
    context.arc(width / 2, height / 2, width / 2, 0, 2 * PI);
    context.stroke();
    context.beginPath();
    context.arc(width / 2, height / 2, width / 2 - arcWidth, 0, 2 * PI);
    context.stroke();

    context.font = "72px Arial";
    context.textAlign = "center";
    context.textBaseline = "middle";
    context.fillText(Math.round(percent) + "%", width / 2, height / 2);

    context.font = "12px Arial";
    context.textBaseLine = "hanging";
    var remainingDays = Math.floor(remaining);
    remaining = (remaining - remainingDays) * 24;
    var remainingHours = Math.floor(remaining);
    remaining = (remaining - remainingHours) * 60; 
    var remainingMinutes = Math.floor(remaining);
    remaining = (remaining - remainingMinutes) * 60; 
    var remainingSeconds = Math.floor(remaining);

    var remainingText = remainingDays + " days, " + remainingHours + " hours, "
        + remainingMinutes + " minutes, "
        + remainingSeconds + " seconds";

    context.fillText(remainingText, width / 2, height + 15);

    setTimeout(render, 1000);
    context.translate(-10, -10);
}

render();


</script>

</html>

